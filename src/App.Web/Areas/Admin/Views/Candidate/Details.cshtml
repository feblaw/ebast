@model App.Web.Models.ViewModels.Core.Business.CandidateInfoViewModel
@{
    ViewBag.Title = "Candidate CV | Details";
    var Vacancy = (VacancyList)ViewBag.Vacancy;
}

@section breadcrumb{
    <li>
        <a asp-controller="Vacancy" asp-action="Index">Vacancy</a>
        <i class="fa fa-circle"></i>
    </li>
    <li>
        <a asp-controller="Vacancy" asp-action="Details" asp-route-id="@Model.VacancyId">Job Vacancy Detail</a>
        <i class="fa fa-circle"></i>
    </li>
    <li>
        <span>Details CV</span>
    </li>
}
<h1 class="page-title">Details CV <small>Detail</small></h1>
<div class="portlet light portlet-fit portlet-datatable bordered">
    <div class="portlet-title">
        <div class="caption">
            <span class="caption-subject font-blue sbold uppercase">Candidate Detail</span>
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="portlet-body">
        <form role="form" class="form-horizontal">
            <div class="form-body">
                <div class="form-group">
                    <label asp-for="AgencyType" class="control-label col-md-3">
                        <strong>Agency Type</strong>
                    </label>
                    <div class="col-md-9">
                        <p class="form-control-static">
                            @Model.AgencyType
                        </p>
                    </div>
                </div>
            </div>
            <div class="form-body">
                <div class="form-group">
                    <label asp-for="@Model.Name" class="control-label col-md-3">
                        <strong>Candidate Name</strong>
                    </label>
                    <div class="col-md-9">
                        <p class="form-control-static">
                            @Model.Name
                        </p>
                    </div>
                </div>
            </div>
            <div class="form-body">
                <div class="form-group">
                    <label asp-for="@Model.NickName" class="control-label col-md-3">
                        <strong>Nickname</strong>
                    </label>
                    <div class="col-md-9">
                        <p class="form-control-static">
                           @Model.NickName
                        </p>
                    </div>
                </div>
            </div>
            <div class="form-body">
                <div class="form-group">
                    <label asp-for="@Model.Email" class="control-label col-md-3">
                        <strong>Email</strong>
                    </label>
                    <div class="col-md-9">
                        <p class="form-control-static">
                            @Model.Email
                        </p>
                    </div>
                </div>
            </div>
            <div class="form-body">
                <div class="form-group">
                    <label asp-for="@Model.IdNumber" class="control-label col-md-3">
                        <strong>ID Number (KTP)</strong>
                    </label>
                    <div class="col-md-9">
                        <p class="form-control-static">
                            @Model.IdNumber
                        </p>
                    </div>
                </div>
            </div>
            <div class="form-body">
                <div class="form-group">
                    <label asp-for="@Model.Nationality" class="control-label col-md-3">
                        <strong>Nationality</strong>
                    </label>
                    <div class="col-md-9">
                        <p class="form-control-static">
                           @Model.Nationality
                        </p>
                    </div>
                </div>
            </div>
            <div class="form-body">
                <div class="form-group">
                    <label asp-for="@Model.PlaceOfBirth" class="control-label col-md-3">
                        <strong>Place of Birth</strong>
                    </label>
                    <div class="col-md-9">
                        <p class="form-control-static">
                           @Model.PlaceOfBirth
                        </p>
                    </div>
                </div>
            </div>
            <div class="form-body">
                <div class="form-group">
                    <label asp-for="@Model.DateOfBirth" class="control-label col-md-3">
                        <strong>Date Of Birth</strong>
                    </label>
                    <div class="col-md-9">
                        <p class="form-control-static">
                            @Model.DateOfBirth.ToString("dd MMMM yyyy")
                        </p>
                    </div>
                </div>
            </div>
            <div class="form-body">
                <div class="form-group">
                    <label asp-for="@Model.Address" class="control-label col-md-3">
                        <strong>Address</strong>
                    </label>
                    <div class="col-md-9">
                        <p class="form-control-static">
                            @Model.Address
                        </p>
                    </div>
                </div>
            </div>
            <div class="form-body">
                <div class="form-group">
                    <label asp-for="@Model.Gender" class="control-label col-md-3">
                        <strong>Gender</strong>
                    </label>
                    <div class="col-md-9">
                        <p class="form-control-static">
                            @Model.Gender
                        </p>
                    </div>
                </div>
            </div>
            <div class="form-body">
                <div class="form-group">
                    <label asp-for="@Model.Martial" class="control-label col-md-3">
                        <strong>Marital</strong>
                    </label>
                    <div class="col-md-9">
                        <p class="form-control-static">
                            @Model.Martial
                        </p>
                    </div>
                </div>
            </div>
            <div class="form-body">
                <div class="form-group">
                    <label asp-for="@Model.MobilePhoneNumber" class="control-label col-md-3">
                        <strong>Phone Number(Mobile)</strong>
                    </label>
                    <div class="col-md-9">
                        <p class="form-control-static">
                           @Model.MobilePhoneNumber
                        </p>
                    </div>
                </div>
            </div>
            <div class="form-body">
                <div class="form-group">
                    <label asp-for="@Model.HomePhoneNumber" class="control-label col-md-3">
                        <strong>Phone Number (Home)</strong>
                    </label>
                    <div class="col-md-9">
                        <p class="form-control-static">
                            @Model.HomePhoneNumber
                        </p>
                    </div>
                </div>
            </div>
            <div class="form-body">
                <div class="form-group">
                    <label asp-for=" @Model.Description" class="control-label col-md-3">
                        <strong>Description</strong>
                    </label>
                    <div class="col-md-9">
                        <p class="form-control-static">
                           @Model.Description
                        </p>
                    </div>
                </div>
            </div>
            <div class="form-body">
                <div class="form-group">
                    <label asp-for=" @Model.IsFormerEricsson" class="control-label col-md-3">
                        <strong>Former Ericsson</strong>
                    </label>
                    <div class="col-md-9">

                        @if (@Model.IsFormerEricsson == true)
                        {<p class="form-control-static"> Yes</p>}
                        else
                        {<p class="form-control-static">No</p>}
                    </div>
                </div>
            </div>
            <div class="form-body">
                <div class="form-group">
                    <label class="control-label col-md-3">
                        <strong>Attached CV</strong>
                    </label>
                    <div class="col-md-9">
                        
                            <ul style="padding:0; list-style-type:none;">
                                @if (ViewBag.Files != null)
                                {
                                    @foreach (var row in (@ViewBag.Files as List<string>))
                                    {
                                        <li class="attachment-item">
                                            <a href="@Url.Content("~/")">
                                                <i class="fa fa-file"></i>
                                                <span class="label-file">@row</span>
                                            </a>
                                        </li>
                                    }
                                }
                                else
                                {
                                    <span class="form-control-static"><strong>No file attached.</strong></span>
                                }
                            </ul>
                    </div>
                </div>
            </div>
            <div class="form-actions">
                <div class="row">
                    <div class="col-md-3 col-md-offset-3">
                        <a asp-action="Details" asp-controller="Vacancy" asp-route-id="@Model.VacancyId" class="btn btn-default"><i class="fa fa-arrow-left"></i>&nbsp; Back</a>
                        <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-primary"><i class="fa fa-edit"></i>&nbsp; Edit</a>
                    </div>
                </div>
            </div>
        </form>
    </div>

</div>
@section scripts{
    <script>
        $(document).ready(function () {

            var success = @((TempData["Success"] != null).ToString().ToLower());
            if (success == true) {
                toastr.options = {
                    "closeButton": true,
                    "positionClass": "toast-top-right"
                }
                toastr.success("Candidate has been updated");
            }

            $common.setMenu("#menu-vacancy", "#menu-vacancy");
            renderExistingFiles(null, 'li.attachment-item', null, false, '.label-file');

            var UserRole = '@ViewBag.UserRole';


            if(UserRole=='Line Manager' || UserRole=='Sourcing'){
                $('#btn-edit').hide();
            }

        });
    </script>
}